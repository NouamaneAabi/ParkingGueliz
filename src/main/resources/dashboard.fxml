<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml" 
      fx:controller="com.parkingmanager.controller.DashboardController" 
      spacing="20" style="-fx-padding: 30;" stylesheets="@styles.css">
    <children>
        <Label text="Gueliz Parking - Tableau de Bord" styleClass="header-label" />
        
        <HBox spacing="30" VBox.vgrow="ALWAYS">
            <children>
                <!-- Panneau Latéral Statistiques -->
                <VBox spacing="15" styleClass="card" minWidth="250" prefWidth="300">
                    <children>
                        <Label text="Statistiques" styleClass="card-title" />
                        
                        <VBox spacing="5">
                            <Label text="Taux d'occupation" styleClass="stat-label"/>
                            <Label fx:id="tauxOccupationLabel" text="0%" styleClass="stat-value, stat-occupation" />
                        </VBox>
                        
                        <Separator />
                        
                        <VBox spacing="5">
                            <Label text="Places libres" styleClass="stat-label"/>
                            <Label fx:id="placesLibresLabel" text="0" styleClass="stat-value, stat-free" />
                        </VBox>
                        
                        <Separator />
                        
                        <VBox spacing="5">
                            <Label text="Places occupées" styleClass="stat-label"/>
                            <Label fx:id="placesOccupeesLabel" text="0" styleClass="stat-value, stat-occupied" />
                        </VBox>
                    </children>
                </VBox>
                
                <!-- Zone Principale -->
                <VBox spacing="20" HBox.hgrow="ALWAYS">
                    <children>
                        <!-- Barre d'actions -->
                        <FlowPane hgap="15" vgap="15" prefWrapLength="600">
                            <children>
                                <Button text="Entrée/Sortie" onAction="#ouvrirEntreeSortie" styleClass="button, btn-entry" prefWidth="150" prefHeight="40">
                                    <graphic>
                                        <!-- You can add icons here later if you have them -->
                                    </graphic>
                                </Button>
                                <Button text="Abonnés" onAction="#ouvrirAbonnes" styleClass="button, btn-subscribers" prefWidth="150" prefHeight="40" />
                                <Button text="Recettes" onAction="#ouvrirRecettes" styleClass="button, btn-revenue" prefWidth="150" prefHeight="40" />
                                <Button text="Déconnexion" onAction="#seDeconnecter" styleClass="button, btn-settings" prefWidth="150" prefHeight="40" />
                                <Button text="Historique" onAction="#ouvrirHistorique" styleClass="button, btn-history" prefWidth="150" prefHeight="40" />
                                <Button text="Paramètres" onAction="#ouvrirParametres" styleClass="button, btn-settings" prefWidth="150" prefHeight="40" />
                                <Button text="Actualiser" onAction="#refreshData" styleClass="button, btn-refresh" prefWidth="150" prefHeight="40" />
                            </children>
                        </FlowPane>
                        
                        <!-- Tableau des Places -->
                        <VBox styleClass="card" VBox.vgrow="ALWAYS">
                            <children>
                                <Label text="État des Places" styleClass="card-title" />
                                <TableView fx:id="placesTable" VBox.vgrow="ALWAYS">
                                    <columns>
                                        <TableColumn fx:id="numeroColumn" text="Numéro de Place" prefWidth="150" />
                                        <TableColumn fx:id="statutColumn" text="Statut Actuel" prefWidth="250" />
                                    </columns>
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                                    </columnResizePolicy>
                                </TableView>
                            </children>
                        </VBox>
                    </children>
                </VBox>
            </children>
        </HBox>
    </children>
</VBox>
